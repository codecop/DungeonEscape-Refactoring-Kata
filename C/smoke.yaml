command: DungeonEscape
exit-status: 0

tests:
  - name: "just-quit"
    stdin: |
      q
    stdout:
       file: smoke_tests/just-quit.txt

  - name: "escape-freija-win"
    stdin: |
      d
      l
      u
      n
    stdout:
       file: smoke_tests/escape-freija-win.txt

  - name: "play-again"
    stdin: |
      d
      l
      u
      x
      y
      q
    stdout:
       file: smoke_tests/play-again.txt

  - name: "fight-die"
    stdin: |
      d
      r
      f
      n
    stdout:
       file: smoke_tests/fight-die.txt

  - name: "hide"
    stdin: |
      d
      l
      t
      h
      q
    stdout:
       file: smoke_tests/hide.txt
    files:
      - path: location.txt
        contents:
          file: smoke_tests/fixture-location.txt

  - name: "un-hide"
    stdin: |
      d
      l
      t
      h
      o
      q
    stdout:
       file: smoke_tests/un-hide.txt

  - name: "find-prisoner-win"
    command: cp smoke_tests/fixture-location.txt ./location.txt && DungeonEscape
    stdin: |
      d
      l
      t
      s
      q
    stdout:
       file: smoke_tests/find-prisoner-win.txt

  - name: "hide-captured"
    command: start "searcher" cmd /C "type smoke_tests\find-prisoner_stdin.txt | DungeonEscape" && DungeonEscape
    stdin: |
      d
      l
      t
      h
      q
    stdout:
       file: smoke_tests/hide-captured.txt

  - name: "wander-around"
    stdin: |
      x
      s
      d
      x
      l
      x
      b
      x
      r
      b
      r
      t
      x
      h
      x
      h
      o
      r
      t
      s
      q
    stdout:
       file: smoke_tests/wander-around.txt
